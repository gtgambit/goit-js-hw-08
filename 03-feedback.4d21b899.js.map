{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,kBAGtCF,EAAOG,iBAAiB,SAAS,EAAAL,EAAAM,WAkBjC,SAAqBC,GACnB,MAAMC,KAAEA,EAAIC,MAAEA,GAAUF,EAAMG,O,IACdC,EAAhB,IAAIC,EAAsD,QAA1CD,EAAAE,KAAKC,MAAMC,aAAaC,QAtBzB,+BAsB2C,IAA1CL,IAA8C,GAC9DC,EAAY,IACPA,EACHJ,CAACA,GAAOC,GAEVM,aAAaE,QA3BE,sBA2BgBJ,KAAKK,UAAUN,G,GAzBO,MACvDV,EAAOG,iBAAiB,UAExB,SAAsBE,GACpBA,EAAMY,iBACN,IAAIC,EAAY,GAChB,MAAMC,EAAW,IAAIC,SAASpB,GAC9B,IAAK,MAAOM,EAAMC,KAAUY,EAASE,UAAW,CAC9C,IAAKd,EACH,OAEFW,EAAUZ,GAAQC,C,CAEpBM,aAAaS,WAfE,uBAgBfC,QAAQC,IAAIN,GACZlB,EAAOyB,O,IAaU,M,IACEhB,EAAnB,IAAIiB,EAAyD,QAA1CjB,EAAAE,KAAKC,MAAMC,aAAaC,QA/B5B,+BA+B8C,IAA1CL,IAA8C,GAC9CkB,OAAOC,KAAKF,GACpBG,SAAQC,IACL9B,EAAO+B,SAASD,GACtBE,KAAOzB,KAAK,GAClB,EAEJ0B","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst formEl = document.querySelector('.feedback-form');\nconst FORM_KEY = 'feedback-form-state';\n\nformEl.addEventListener('input', throttle(onFormInput, 500));\nformEl.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  let finalData = {};\n  const formData = new FormData(formEl);\n  for (const [name, value] of formData.entries()) {\n    if (!value) {\n      return;\n    }\n    finalData[name] = value;\n  }\n  localStorage.removeItem(FORM_KEY);\n  console.log(finalData);\n  formEl.reset();\n}\n\nfunction onFormInput(event) {\n  const { name, value } = event.target;\n  let savedData = JSON.parse(localStorage.getItem(FORM_KEY)) ?? {};\n  savedData = {\n    ...savedData,\n    [name]: value,\n  };\n  localStorage.setItem(FORM_KEY, JSON.stringify(savedData));\n}\n\nconst renderData = () => {\n  let dataToRender = JSON.parse(localStorage.getItem(FORM_KEY)) ?? {};\n  const inputNames = Object.keys(dataToRender);\n  inputNames.forEach(inputName => {\n    let input = formEl.elements[inputName];\n    input.type = value;\n  });\n};\nrenderData();\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formEl","document","querySelector","addEventListener","throttle","event","name","value","target","ref","savedData","JSON","parse","localStorage","getItem","setItem","stringify","preventDefault","finalData","formData","FormData","entries","removeItem","console","log","reset","dataToRender","Object","keys","forEach","inputName","elements","type","$945622fd0f572e60$var$renderData"],"version":3,"file":"03-feedback.4d21b899.js.map"}